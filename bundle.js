!function(t){function n(i){if(e[i])return e[i].exports;var o=e[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";function i(){var t=(Date.now()-a)/1e3;a=Date.now(),h=1/t,setTimeout(function(){window.requestAnimationFrame(i)},o.delay),s.clear(),s.drawBoids(d),s.drawFps(h),u.moveBoids(d)}var o=e(1),r=e(5),s=e(4),u=new r(window.innerWidth,window.innerHeight),d=u.initBoids(),a=Date.now(),h=0;s.onResize(function(t,n){u.width=t,u.height=n}),i()},function(t,n){"use strict";t.exports={numBoids:100,maxVel:10,neighborRadius:50,reboundVel:10,headingFactor:8,repelDistance:10,cohesion:1,delay:0}},function(t,n){"use strict";function e(t){return function(){for(var n=arguments.length,e=Array(n),i=0;n>i;i++)e[i]=arguments[i];var r=this.x,s=this.y;return Array.isArray(e[0])&&(e=e[0]),e.reduce(function(n,e){return"+"===t?(n.x+=e.x,n.y+=e.y):"-"===t&&(n.x-=e.x,n.y-=e.y),n},new o(r,s))}}function i(t){return function(n){return"*"===t?new o(this.x*n,this.y*n):"/"===t?(0===n&&(n=1),new o(this.x/n,this.y/n)):void 0}}var o=function(t,n){this.x=t,this.y=n};o.prototype.add=e("+"),o.prototype.sub=e("-"),o.prototype.mul=i("*"),o.prototype.div=i("/"),o.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},o.prototype.unit=function(t){return t?this.div(this.mag()).mul(t):this.div(this.mag())},t.exports=o},function(t,n){"use strict";var e=function(t,n){this.pos=t,this.vel=n};t.exports=e},function(t,n,e){"use strict";var i=document.getElementById("boids"),o=i.getContext("2d"),r=e(2);i.width=window.innerWidth,i.height=window.innerHeight;var s=5,u=5,d={clear:function(){o.clearRect(0,0,i.width,i.height)},drawBoids:function(t){return t.forEach(function(t,n){var e=t.pos,i=e.x,d=e.y;o.fillStyle="rgb(200,0,0)",o.fillRect(i,d,s,u);var a=t.pos.add(new r(s/2,u/2)),h=a.add(t.vel.unit(10));o.beginPath(),o.moveTo(a.x,a.y),o.lineTo(h.x,h.y),o.closePath(),o.stroke()}),t},drawFps:function(t){o.font="32px helvetica",o.fillText(Math.round(t)+" fps",10,30)},onResize:function(t){window.addEventListener("resize",function(n){i.width=window.innerWidth,i.height=window.innerHeight,t(window.innerWidth,window.innerHeight)})}};t.exports=d},function(t,n,e){"use strict";var i=e(1),o=e(3),r=e(2),s=function(t,n){this.width=t,this.height=n};s.prototype.rule1=function(t,n,e){var o=e.reduce(function(n,e,i){return e!==t&&(n=n.add(e.pos)),n},new r(0,0)),s=e.length-1;return o.div(s).sub(t.pos).div(100).mul(i.cohesion)},s.prototype.rule2=function(t,n,e){var o=new r(0,0);return e.forEach(function(n,e){if(n!==t){var r=n.pos.sub(t.pos);r.mag()<i.repelDistance&&(o=o.sub(n.pos.sub(t.pos)))}}),o},s.prototype.rule3=function(t,n,e){var o=new r(0,0);return e.forEach(function(n,e){n!==t&&(o=o.add(n.vel))}),o=o.div(e.length-1),o.sub(t.vel).div(i.headingFactor)},s.prototype.randPos=function(){var t=Math.random()*this.width,n=Math.random()*this.height;return new r(t,n)},s.prototype.initBoids=function(){for(var t=[],n=new r(this.width/2,this.height/2),e=0;e<i.numBoids;e++){var s=this.randPos(),u=n.sub(s);t.push(new o(s,u))}return t},s.prototype.limitVel=function(t,n){var e=t.mag();return e>n?t.div(e).mul(n):t},s.prototype.boundPos=function(t){var n=new r(t.vel.x,t.vel.y);return t.pos.x<0?n.x=i.reboundVel:t.pos.x>this.width&&(n.x=-i.reboundVel),t.pos.y<0?n.y=i.reboundVel:t.pos.y>this.height&&(n.y=-i.reboundVel),n},s.prototype.moveBoids=function(t){var n=this;return t=t.forEach(function(e,o){var r=t.filter(function(t){return t.pos.sub(e.pos).mag()<i.neighborRadius}),s=n.rule1(e,o,r),u=n.rule2(e,o,r),d=n.rule3(e,o,r);e.vel=e.vel.add(s,u,d),e.vel=n.limitVel(e.vel,i.maxVel),e.vel=n.boundPos(e),e.pos=e.pos.add(e.vel)})},t.exports=s}]);
//# sourceMappingURL=bundle.js.map