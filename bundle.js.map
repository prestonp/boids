{"version":3,"sources":["webpack:///webpack/bootstrap e3bfcba25597bc6a642a","webpack:///./main.js","webpack:///./lib/simulator.js","webpack:///./lib/boid.js","webpack:///./lib/vector.js","webpack:///./lib/gfx.js","webpack:///./config.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e3bfcba25597bc6a642a\n **/","const config = require('./config');\nconst Simulator = require('./lib/simulator');\nconst Gfx = require('./lib/gfx');\nconst simulator = new Simulator(window.innerWidth, window.innerHeight);\n\nlet boids = simulator.initBoids();\nlet lastCalledTime = Date.now();\nlet fps = 0;\n\nGfx.onResize((width, height) => {\n  simulator.width = width;\n  simulator.height = height;\n});\n\nfunction loop() {\n  const delta = (Date.now() - lastCalledTime) / 1000;\n  lastCalledTime = Date.now();\n  fps = 1/delta;\n\n  setTimeout(() => {\n    window.requestAnimationFrame(loop);\n  }, config.delay);\n\n  Gfx.clear();\n  Gfx.drawBoids(boids);\n  Gfx.drawFps(fps);\n  simulator.moveBoids(boids);\n}\n\nloop();\n\n\n\n/** WEBPACK FOOTER **\n ** ./main.js\n **/","const config = require('../config');\nconst Boid = require('./boid');\nconst Vector = require('./vector');\n\nconst Simulator = function(width, height) {\n  this.width = width;\n  this.height = height;\n};\n\nSimulator.prototype.rule1 = function(boid, idx, boids) {\n  // Calculate perceived center of swarm (excluding current boid)\n  const center = boids.reduce((total, b, i) => {\n    if (b !== boid) {\n      total = total.add(b.pos);\n    }\n    return total;\n  }, new Vector(0, 0));\n\n  const n = boids.length - 1;\n  return center.div(n).sub(boid.pos).div(100).mul(config.cohesion);\n};\n\nSimulator.prototype.rule2 = function(boid, idx, boids) {\n  // Repel boids from each other\n  let c = new Vector(0, 0);\n\n  boids.forEach((b, i) => {\n    if (b !== boid) {\n      let diff = b.pos.sub(boid.pos);\n      if (diff.mag() < config.repelDistance)\n        c = c.sub(b.pos.sub(boid.pos));\n    }\n  });\n\n  return c;\n};\n\nSimulator.prototype.rule3 = function(boid, idx, boids) {\n  // Direction of neighboring boids should influence this boid\n  let vel = new Vector(0, 0);\n\n  boids.forEach((b, i) => {\n    if (b !== boid) {\n      vel = vel.add(b.vel);\n    }\n  });\n\n  vel = vel.div(boids.length-1);\n  return vel.sub(boid.vel).div(config.headingFactor);\n};\n\nSimulator.prototype.randPos = function() {\n  const x = Math.random() * this.width;\n  const y = Math.random() * this.height;\n  return new Vector(x,y);\n}\n\nSimulator.prototype.initBoids = function() {\n  const boids = [];\n  const center = new Vector(this.width/2, this.height/2);\n  for(let i=0; i<config.numBoids; i++) {\n    const pos = this.randPos();\n    const vel = center.sub(pos);\n    boids.push(new Boid(pos, vel));\n  }\n  return boids;\n};\n\nSimulator.prototype.limitVel = function(vel, limit) {\n  const mag = vel.mag();\n\n  if (mag > limit)\n    return vel.div(mag).mul(limit);\n  return vel;\n};\n\nSimulator.prototype.boundPos = function(boid) {\n  let vel = new Vector(boid.vel.x, boid.vel.y);\n\n  if (boid.pos.x < 0)  {\n    vel.x = config.reboundVel;\n  } else if (boid.pos.x > this.width) {\n    vel.x = -config.reboundVel;\n  }\n\n  if (boid.pos.y < 0) {\n    vel.y = config.reboundVel;\n  } else if (boid.pos.y > this.height) {\n    vel.y = -config.reboundVel;\n  }\n\n  return vel;\n};\n\nSimulator.prototype.moveBoids = function(boids) {\n  boids = boids.forEach((boid, idx) => {\n    const neighbors = boids.filter((b) => {\n      return b.pos.sub(boid.pos).mag() < config.neighborRadius;\n    });\n\n    let v1 = this.rule1(boid, idx, neighbors);\n    let v2 = this.rule2(boid, idx, neighbors);\n    let v3 = this.rule3(boid, idx, neighbors);\n    boid.vel = boid.vel.add(v1, v2, v3);\n    boid.vel = this.limitVel(boid.vel, config.maxVel);\n    boid.vel = this.boundPos(boid);\n    boid.pos = boid.pos.add(boid.vel);\n  });\n  return boids;\n};\n\nmodule.exports = Simulator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/simulator.js\n **/","var Boid = function(pos, vel) {\n  this.pos = pos;\n  this.vel = vel;\n};\n\nmodule.exports = Boid;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/boid.js\n **/","const Vector = function(x, y) {\n  this.x = x;\n  this.y = y;\n};\n\nfunction operator(op) {\n  return function(...args) {\n    const { x, y } = this;\n\n    if (Array.isArray(args[0]))\n      args = args[0];\n\n    return args.reduce((total, vector) => {\n      if (op === '+') {\n        total.x += vector.x;\n        total.y += vector.y;\n      } else if (op === '-') {\n        total.x -= vector.x;\n        total.y -= vector.y;\n      }\n      return total;\n    }, new Vector(x, y));\n  };\n}\n\nfunction scalar(op) {\n  return function(val) {\n    if (op === '*') {\n      return new Vector(this.x * val, this.y * val);\n    } else if (op === '/') {\n      if (val === 0) val = 1;\n      return new Vector(this.x / val, this.y / val);\n    }\n  };\n}\n\nVector.prototype.add = operator('+');\nVector.prototype.sub = operator('-');\nVector.prototype.mul = scalar('*');\nVector.prototype.div = scalar('/');\n\nVector.prototype.mag = function() {\n  return Math.sqrt(this.x * this.x + this.y * this.y);\n};\n\nVector.prototype.unit = function(scale) {\n  if (scale) return this.div(this.mag()).mul(scale);\n  return this.div(this.mag());\n};\n\nmodule.exports = Vector;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/vector.js\n **/","let canvas = document.getElementById('boids');\nlet ctx = canvas.getContext('2d');\nconst Vector = require('./vector');\n\ncanvas.width  = window.innerWidth;\ncanvas.height = window.innerHeight;\n\nconst width = 5;\nconst height = 5;\n\nconst Gfx = {\n  clear: function() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  },\n\n  drawBoids: function(boids) {\n    boids.forEach((boid, idx) => {\n      const { x, y } = boid.pos;\n      ctx.fillStyle = \"rgb(200,0,0)\";\n      ctx.fillRect(x, y, width, height);\n      const boidCenter = boid.pos.add(new Vector(width/2, height/2));\n      const heading = boidCenter.add(boid.vel.unit(10));\n      ctx.beginPath();\n      ctx.moveTo(boidCenter.x, boidCenter.y);\n      ctx.lineTo(heading.x, heading.y);\n      ctx.closePath();\n      ctx.stroke();\n    });\n    return boids;\n  },\n\n  drawFps: function(fps) {\n    ctx.font = \"32px helvetica\";\n    ctx.fillText(Math.round(fps) + ' fps', 10, 30);\n  },\n\n  onResize: function(callback) {\n    window.addEventListener('resize', (e) => {\n      canvas.width  = window.innerWidth;\n      canvas.height = window.innerHeight;\n      callback(window.innerWidth, window.innerHeight);\n    });\n  }\n};\n\nmodule.exports = Gfx;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/gfx.js\n **/","module.exports = {\n  numBoids: 100,\n  maxVel: 10,\n  neighborRadius: 50,\n  reboundVel: 10,\n  headingFactor: 8, // lower the more uniform\n  repelDistance: 10,\n  cohesion: 1, // percent of attraction to cluster centers\n  delay: 0\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./config.js\n **/"],"sourceRoot":""}